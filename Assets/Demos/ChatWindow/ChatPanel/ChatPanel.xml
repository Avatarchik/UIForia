<?xml version="1.0" encoding="utf-8"?>
<UITemplate>

    <Import value="ClippedPanel+ClippedCorner" as="ClippedCorner"/>

    <Style>

        style container {
            PreferredWidth = 1400px;
            PreferredHeight = 100%;
        }

        style left-bar {
            BackgroundColor = black;
            PreferredWidth = 1cnt;
            PreferredHeight = 1.2cnt;
            Padding = 0px, 12px, 24px, 12px;
            FlexLayoutMainAxisAlignment = SpaceBetween;
        }

        style topbar {
            BackgroundColor = black;
            FlexLayoutDirection = Column;
            FlexLayoutMainAxisAlignment = SpaceBetween;
            FlexLayoutCrossAxisAlignment = Center;
            PreferredWidth = 100%;
            PreferredHeight = 64px;
            PaddingLeft = 88px;
        }

        style topbar-text {
            TextColor = white;
            TextFontAsset = Gotham-Bold SDF;
        }

        style settings-icon {
            PreferredWidth = 32px;
            PreferredHeight = 32px;
            BackgroundImage = settings_icon;
        }

        style status-icon {
            PreferredWidth = 32px;
            PreferredHeight = 32px;
            BorderRadius = 50%;
            BorderColor = red;
            Border = 3px;
        }

        style add-chat-group {
            BackgroundImage = new_player_group_icon;
            PreferredWidth = 64px;
            PreferredHeight = 64px;
        }
        
        style thread-group-list-panel {
            PreferredWidth = 300px;
            BackgroundColor = #F2F2F2;
            Padding = 0px, 12px;
            PreferredHeight = 100%;

        }
   
        style panel-group {
            FlexLayoutDirection = Column;
            PreferredWidth = 100%;
            PreferredHeight = 100%;
        }
        
    </Style>

    <Contents style="container">

        <Panel style="topbar">

        <Text style="topbar-text">
            KLANG GANG
        </Text>

        <Div style.layoutDirection="Column">
            <Div style="settings-icon"/>
            <Div style="status-icon"/>
        </Div>

        </Panel>

        <Div style="panel-group">
            
            <ClippedPanel style="left-bar" clipSize="30f" clippedCorner="{@ClippedCorner.BottomLeft}">

                <Repeat list="{chatData.chatGroups}">
                    <ChatGroupDisplay onMouseDown="SetSelectedChatGroup($index)" chatGroup="{$item}"/>
                </Repeat>
    
                <Div style="add-chat-group" onMouseDown="CreateChatGroup()"/>

            </ClippedPanel>

            <Group style="thread-group-list-panel">
                
                <Repeat list="{chatData.chatGroups[selectedGroupIdx].threadGroups}">
                    <ChatThreadGroupDisplay threadGroup="{$item}"/>
                </Repeat>
                
            </Group>
            
            <ChatTextDisplay thread="{chatData.chatGroups[selectedGroupIdx].threadGroups[selectedThreadGroupIdx].threads[selectedThreadIdx]}"/>
            
            <ChatGroupRosterDisplay/>
            
            
        </Div>

    </Contents>
</UITemplate>