<?xml version="1.0" encoding="utf-8"?>
<UITemplate>

    <Style path="CharacterList/CharacterList.style"/>
    <Style path="Util.style" alias="util"/>

    <Using namespace="Klang.Seed.Client.UI.UIForia"/>

    <Contents style="container">

        <ScrollView style="character-scroll">

            <Repeat list="CharacterOwnerDataContext.CharacterDataContexts" style="character-list-container">
                <Group onMouseClick="OnClickCharacter($event, $item.EntityId)" style="['character-entry', SelectedStyle($item.EntityId)]">

                    <Group style="direct-control-switch" onMouseClick="ToggleDirectControl($item, $event)">
                        <Image src="$item.IsInDirectControl ? DirectControlIcon_On : DirectControlIcon_Off"/>
                    </Group>

                    <Group style="portrait">
                        <Image src="$item.IconUrl" style="portrait-image"/>
                    </Group>

                    <Group style="character-status">

                        <Text style="name-text">{$item.Name}</Text>
                        <Text style="[SelectedStyle($item.EntityId) + '-status']">{$item.Status}</Text>

                        <KlangProgressBar style="progressBar" progress="$item.Health" fillColor="HealthColor" animationTime="500" />
                        <KlangProgressBar style="progressBar" progress="$item.Mood" fillColor="MoodColor" animationTime="500" />

                    </Group>

                    <Image style="status-icon" src="$item.NeedIconUrl"/>

                    <!--<KlangToolTip direction="ToolTipDirection.Right" style="status-icon" text="'Such content, much wow'">
                        <Image src="$item.NeedIconUrl"/>
                    </KlangToolTip>-->

                </Group>
            </Repeat>
        </ScrollView>

    </Contents>

</UITemplate>