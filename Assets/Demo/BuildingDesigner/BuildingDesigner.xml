<UITemplate>

    <!-- Many style sheets per template! -->
    <Style path="Demo/BuildingDesigner/BuildingDesigner.style"/>
    <Style path="Demo/Theme.style" alias="theme"/>
    <Style path="Demo/BuildingDesigner/BuildingDesignerTopBar.style" alias="top"/>
    <Style path="Demo/BuildingDesigner/BuildingDesignerMain.style" alias="main"/>
    <Style path="Demo/BuildingDesigner/BuildingDesignerFooter.style" alias="footer"/>

    <!-- Import namespaces if you reference types in expressions -->
    <Using namespace="UIForia.Elements"/>
    <Using namespace="Demo"/>

    <Contents>

        <Group style="building-designer-top-bar">
            <Group style="top-left-area flex-horizontal-centered">
                <Text>CONSTRUCTION MODE</Text>
            </Group>

            <Group style="top-right-area flex-horizontal-centered">
                <Div style="top-bar-text">TYPE:</Div>
                <Select style="top-bar-select"
                        options="brushTypes"
                        onValueChanged="OnBrushTypeChanged"
                />

                <Div style="flex-horizontal-centered">
                    <Div style="top-bar-text">STYLE:</Div>
                    <Select disabled="currentBrushType != Category.Basic"
                            style="top-bar-select"
                            options="basicStyles"
                            onValueChanged="OnBasicStyleChanged"
                    />
                </Div>
            </Group>
        </Group>

        <Group style="building-designer-main">
            <Div style="tools-area">
                <Div style="grid-with-buttons">
                    <!-- Asset paths must be relative to your Resources directory -->
                    <Image attr:id="SELECT" src="'new_ui_icons/ui_icon_select'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.SELECT)"/>
                    <Image attr:id="GRID_UP" src="'new_ui_icons/ui_icon_grid_up'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.GRID_UP)"/>
                    <Image attr:id="ERASER" src="'new_ui_icons/ui_icon_eraser'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.ERASER)"/>
                    <Image attr:id="GRID_DOWN" src="'new_ui_icons/ui_icon_grid_down'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.GRID_DOWN)"/>
                    <Image attr:id="BRUSH" src="'new_ui_icons/ui_icon_paint_brush'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.BRUSH)"/>
                    <Image attr:id="MAGIC_WAND" src="'new_ui_icons/ui_icon_magic_wand'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.MAGIC_WAND)"/>
                    <Image attr:id="BUCKET" src="'new_ui_icons/ui_icon_paint_bucket'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.BUCKET)"/>
                    <Image attr:id="DELETE_ALL" src="'new_ui_icons/ui_icon_delete_all'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.DELETE_ALL)"/>
                    <Image attr:id="EYE_DROPPER" src="'new_ui_icons/ui_icon_eye_dropper'" style="tools-button" mouse:click="ToolButtonClicked(ToolButton.EYE_DROPPER)"/>
                    <ColorPicker availableColors="availableColors" style="tools-button"/>
                </Div>
            </Div>

            <ScrollView attr:id="brushes-container" style="previews-area">
                <Repeat list="GetBrushes()" style="grid-with-brushes">
                    <Div style="brush-button" mouse:click="SelectBrush($event, $item)">
                        <Image texture="$item.Texture" style="image-width"/>
                        <Text style="brush-label">{$item.Label}</Text>
                    </Div>
                </Repeat>
            </ScrollView>
        </Group>

        <Group style="building-designer-footer">
            <Group style="flex-horizontal-centered footer-left-area">
                <Div style="flex-vertical-centered footer-total-cost">
                    <Text>Total</Text>
                    <Text>Cost</Text>
                </Div>
                <Group style="flex-horizontal-centered footer-icon-container">
                    <Image src="'ui_icon_plaxin_16@2x'" style="footer-icon"/>
                    <Text>24 Plaxin</Text>
                </Group>
            </Group>

            <Group style="flex-horizontal-centered footer-right-area">
                <Div mouse:click="ShowConfirmDialog()" style="footer-button confirm-button flex-horizontal-centered">CONFIRM</Div>
                <Div mouse:click="SaveAndExit()" style="footer-button save-exit-button flex-horizontal-centered">SAVE &amp; EXIT</Div>
                <Div mouse:click="ShowCancelDialog()" style="footer-button cancel-button flex-horizontal-centered mr2">CANCEL</Div>
            </Group>

        </Group>

        <Dialog onConfirm="onConfirm" confirmColor="green" sync:isVisible="showConfirm">
            <override:title>
                Are you sure you
                want to confirm?
            </override:title>
            <override:description>
                Construction will begin when all
                resources have been hauled to location.
            </override:description>
        </Dialog>

        <Dialog onConfirm="onCancel" confirmColor="red" sync:isVisible="showCancel">
            <override:title>
                Are you sure you
                want to cancel?
            </override:title>
            <override:description style="confirm-text-container">
                <Group style="confirm-text-container">
                    <Text>All progress will be lost. If you want to</Text>
                    <Div style="flex-horizontal-centered">
                        continue later, choose
                        <Text style="save-exit-text">save &amp; exit</Text>
                        instead.
                    </Div>
                </Group>

            </override:description>
        </Dialog>

    </Contents>

</UITemplate>