<?xml version="1.0" encoding="utf-8"?>
<UITemplate>

    <Style>

        style select {
            PreferredSize = 1mx 48px;
            LayoutType = Stack;
            BackgroundColor = white;
            BorderRadius = 8px;
            TextFontSize = 32px;    
            Border = 2px;
            BorderColor = #B2B2B2;//rgba(178, 178, 178, 255);
            StackLayoutAlignVertical = Center;
            PaddingRight = 64px;
            PaddingLeft = 16px;
            [attr:disabled] {
                Opacity = 0.4;
            }
            [hover] {
                BorderColor = #00B5D9;
            }
        }

        style select-option {
            PreferredWidth = 1pca;
            MaxWidth = 1pca;
            TextColor = black;
            Padding = 4px 8px 4px 22px;
            FlexLayoutCrossAxisAlignment = Center;
            FlexLayoutDirection = Column;
            BackgroundColor = red;
            [hover] {
                MinWidth = 1cnt;
                TextColor = white;
                BackgroundColor = #006d82;
                BorderRadius = 4px;
                Overflow = Visible;
            }
        }
        
        style select-label {
            PreferredWidth = 1pca;
            [hover] {
                MinWidth = 1cnt;
            }
        }
        
        style selected-element-icon {
            PreferredSize = 24px;
            BackgroundTint = black;
            LayoutBehavior = Ignored;
            AlignY = 50% Parent;
            [hover] {
                BackgroundTint = white;
            }
        }

        style fake-select-options {
        // attention: load bearing comma
            AlignY = 0, Parent;
            AlignX = -10px, Parent;
            BackgroundColor = red;
            PreferredWidth = 1psz;
            BorderRadius = 4px;
            BorderColor = black;
            Border = 1px;
            // ZIndex = 30;
            MaxHeight = 400px;
        }
        
        style transclude {
            LayoutBehavior = TranscludeChildren;
        }

        style select-chevron {
            PreferredSize = 2px 1px;
            BackgroundColor = white;
        }

        style fake-select-display {
        //    Border = 2px;
        //    BorderColor =  #b2b2b2;
        //    BorderRadius = 14px 0 0 14px;
        //    TextFontSize = 1em;
        //    //Padding = 6px 8px;
        //    PreferredSize = 1cnt 48px;
        //    FlexLayoutMainAxisAlignment = Center;
        //
        //    [hover] {
        //        BorderColor = #00b5d9;
        //    }
            BackgroundColor = Yellow;
        }

        style fake-select-chevron-holder {
            LayoutBehavior = Ignored;
            AlignmentBehaviorX = Parent;
            AlignX = 100%;
            BackgroundColor = #00b5d0;
            PreferredSize = 32px 1psz;
            BorderColor = #006d82;
            BorderRadius = 0 8px 8px 0;
            Border = 2px;
            FlexLayoutMainAxisAlignment = SpaceAround;
            FlexLayoutCrossAxisAlignment = Center;
            PaddingTop = 4px;
            PaddingBottom = 4px;
        }

        style chevron-down {
            PreferredSize = 10px 6px;
            BackgroundImage = url("icons/ui_selectbox_down_chevron@2x");
        }

        style chevron-up {
            MarginTop = 1px;
            PreferredSize = 10px 6px;
            BackgroundImage = url("icons/ui_selectbox_up_chevron@2x");
        }
        style chevron-container {
            BackgroundColor = #00b5d0;
            BorderColor = #006d82;
            BorderColorBottom = Red;
            BorderRadius = 0;// 24px 24px 0 4px;
            Border = 5px;
            PreferredSize = 100px 101px;//100%;
            FlexLayoutMainAxisAlignment = SpaceAround;
            FlexLayoutCrossAxisAlignment = Center;
            FlexLayoutDirection = Row;
    
            [attr:disabled="select-disabled"] {
                BorderColor = #666;
                BackgroundColor = #999;
            }
        }

        style content-area {

    
            BorderRadius = 4px;
        }
        
        style select-display {
            TextColor = black;
        }
        
        style select-placeholder {
            TextColor = #666;
        }

    </Style>

    <Using namespace="UIForia.Elements" />

    <Contents style="select">   

        <Group if="selectedIndex >= 0" style="fake-select-display" onMouseClick="BeginSelecting($event)">
            <Slot name="select-display" style="select-display">
                {options[selectedIndex].Label}
            </Slot>
        </Group>

        <Group if="selectedIndex &lt; 0" style="fake-select-display" onMouseClick="BeginSelecting($event)">
            <Slot name="select-placeholder" style="select-placeholder">
                Select a value
            </Slot>
        </Group>

        <Group style="fake-select-chevron-holder" onMouseClick="BeginSelecting($event)">
            <Div style="chevron-up"/>
            <Div style="chevron-down"/>
        </Group>

        <Group onMouseClick="SelectElement($event)" style="fake-select-options" x-id="option-list">
            <Children x-id="option-children" style="transclude" x-type="template">
                <Group style="select-option">
                    <Image src="selectedElementIcon" style="selected-element-icon" if="DisplaySelectedIcon($option__internal)" />
                    <Div style="select-label">{$option__internal.Label}</Div>
                </Group>
            </Children>

        </Group>

    </Contents>

</UITemplate>